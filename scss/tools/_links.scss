/* ========================================================================
   #Links
   ======================================================================== */

/**
 * The links module styles the basic paragraph anchor links aspects such as  
 * color, hover, visited. Change color accordingly ./tools/colors.scss
 *
 * generic msd-link :55
 * external link adds appropraite icon : 65
 *
 * Reference: https://css-tricks.com/snippets/sass/sass-things-links/
 *
 * .example {
 *  @include linkColours (
 *  //link     (color(link)), 
 *  //visited  (color(link-visited)), 
 *  //hover    (color(link-hover)),
 *  //active   (color(link-active));
 * }
 *
 */

@mixin linkColours ($link, $visited, $hover, $active) {
    border-bottom: 2px solid $link;
    color: $link;
    line-height: 1.5;   
    text-decoration: none;
    padding-bottom: .125vh;

    &:visited {
        border-bottom-color: $visited;
        color: $visited;
    } 
    &:hover:not(:focus) {
        border-bottom-color: $hover;
        color: $hover;
    } 
    &:active {
        border-bottom-color: $active;
        color: $active;
    } 
    &:focus:not(:hover) {
        background-color: color(msd-focus);
        border-bottom: 2px solid transparent;
        box-shadow: 0 -2px color(msd-focus),0 4px color(govnz-link-active);
        color: color(govnz-link-active);
        outline: 3px solid transparent;
        text-decoration: none;
    }

}


// Generic link
.msd-link { 
    @include linkColours (
        (color(govnz-link)), 
        (color(govnz-link-visited)), 
        (color(govnz-link-hover)),  
        (color(govnz-link-active))
    ); 
}
  
// External links 
.msd__link--external {
    &::after {
        left: 4px;
        top: 1px;
        position: relative;
        content: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 576 512'%3E%3Cpath fill='%23005DBB' d='M576 24v127.984c0 21.461-25.96 31.98-40.971 16.971l-35.707-35.709-243.523 243.523c-9.373 9.373-24.568 9.373-33.941 0l-22.627-22.627c-9.373-9.373-9.373-24.569 0-33.941L442.756 76.676l-35.703-35.705C391.982 25.9 402.656 0 424.024 0H552c13.255 0 24 10.745 24 24zM407.029 270.794l-16 16A23.999 23.999 0 00384 303.765V448H64V128h264a24.003 24.003 0 0016.97-7.029l16-16C376.089 89.851 365.381 64 344 64H48C21.49 64 0 85.49 0 112v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V287.764c0-21.382-25.852-32.09-40.971-16.97z'/%3E%3C/svg%3E");
        display: inline-flex;
        width: 1rem;

            //Windows High contrast mode
    @media (-ms-high-contrast: active) and (forced-colors: active) {
        filter: invert(0%) sepia(120%) saturate(5000%) hue-rotate(50deg) brightness(815%) contrast(125%);
      }

    }  

    &:visited::after {
        content: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 576 512'%3E%3Cpath fill='%234C2C92' d='M576 24v127.984c0 21.461-25.96 31.98-40.971 16.971l-35.707-35.709-243.523 243.523c-9.373 9.373-24.568 9.373-33.941 0l-22.627-22.627c-9.373-9.373-9.373-24.569 0-33.941L442.756 76.676l-35.703-35.705C391.982 25.9 402.656 0 424.024 0H552c13.255 0 24 10.745 24 24zM407.029 270.794l-16 16A23.999 23.999 0 00384 303.765V448H64V128h264a24.003 24.003 0 0016.97-7.029l16-16C376.089 89.851 365.381 64 344 64H48C21.49 64 0 85.49 0 112v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V287.764c0-21.382-25.852-32.09-40.971-16.97z'/%3E%3C/svg%3E");

            //Windows High contrast mode
        @media (-ms-high-contrast: active) and (forced-colors: active) {
        filter: invert(0%) sepia(120%) saturate(5000%) hue-rotate(50deg) brightness(815%) contrast(125%);
        }

    }
  
    &:hover:not(:focus)::after {
        content: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 576 512'%3E%3Cpath fill='%23000C48' d='M576 24v127.984c0 21.461-25.96 31.98-40.971 16.971l-35.707-35.709-243.523 243.523c-9.373 9.373-24.568 9.373-33.941 0l-22.627-22.627c-9.373-9.373-9.373-24.569 0-33.941L442.756 76.676l-35.703-35.705C391.982 25.9 402.656 0 424.024 0H552c13.255 0 24 10.745 24 24zM407.029 270.794l-16 16A23.999 23.999 0 00384 303.765V448H64V128h264a24.003 24.003 0 0016.97-7.029l16-16C376.089 89.851 365.381 64 344 64H48C21.49 64 0 85.49 0 112v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V287.764c0-21.382-25.852-32.09-40.971-16.97z'/%3E%3C/svg%3E");
    }

    &:focus:not(:hover)::after {
        content: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 576 512'%3E%3Cpath fill='%230B0C0C' d='M576 24v127.984c0 21.461-25.96 31.98-40.971 16.971l-35.707-35.709-243.523 243.523c-9.373 9.373-24.568 9.373-33.941 0l-22.627-22.627c-9.373-9.373-9.373-24.569 0-33.941L442.756 76.676l-35.703-35.705C391.982 25.9 402.656 0 424.024 0H552c13.255 0 24 10.745 24 24zM407.029 270.794l-16 16A23.999 23.999 0 00384 303.765V448H64V128h264a24.003 24.003 0 0016.97-7.029l16-16C376.089 89.851 365.381 64 344 64H48C21.49 64 0 85.49 0 112v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V287.764c0-21.382-25.852-32.09-40.971-16.97z'/%3E%3C/svg%3E");
    }



}

